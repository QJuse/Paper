### 图像质量评估

#### 计算方法

- **无参考，盲评测NR。**由于理想图像很难获取，所以这种完全脱离了对理想参考图像依赖的质量评估方法应用较为广泛，无参考方法一般都是基于图像统计特征。

  - 均值mean：图像像素的平均值，反应图像的平均亮度，平均亮度越大，图像质量越好

  ![1591757865626](C:\Users\viruser.v-desktop\AppData\Roaming\Typora\typora-user-images\1591757865626.png)

  - 标准差std：图像像素灰度值相对于均值的离散程度，标准差越大，表明图像中灰度级分布越散，图像质量页就越好。

    ![1591757907781](C:\Users\viruser.v-desktop\AppData\Roaming\Typora\typora-user-images\1591757907781.png)

  - **平均梯度gradient：**反应图像中细节反差和纹理变化，他在一定程度上反应图像的清晰度。

  - **熵entropy：**指图像的平均信息量，从信息论的角度衡量图像中信息的多少，信息熵越大，说明图像包含的信息越多。假设图像中各个像素点的灰度值之间时相互独立的，图像的灰度分布为p={p1,p2,…..,pi,…….pn}，其中Pi表示灰度值为i的像素的个数与总像素个数之比，而n为灰度级总数，则计算公式为

![1591758046382](C:\Users\viruser.v-desktop\AppData\Roaming\Typora\typora-user-images\1591758046382.png)

​              P(l)P(l)为灰度值ll在图像中出现的概率，L为图像的灰度等级，如256灰度等级的图像，L=255.

​			

计算方法：cv2.calcHist()或者np.histogram或者np.bincount()：sobel算子和scharr算子，对图片作卷积。求梯度即是求某位置像素的一阶差分。



#### 评估试验

* 评估指标：一般而言值越大愈好

  * 均值mean：像素的平均值，反应图像的**平均亮度**，平均亮度越大，图像质量越好。
  * 标准差std：灰度值相对于均值的离散程度，标准差越大，图像中灰度级分布越散图像质量越好。

  

  * 信息熵E： 反映图像**信息丰富程度**。信息熵越大，其信息量就越丰富质量越好 [信息统计]
  * 平均梯度S：**灰度变化率**的大小表示图像清晰度。梯度越大，图像层次越多也就越清晰。[纹理细节]





* | 数据集             | M_std（m）  | STD_std  | E_std          | S_std          | 备注     |
  | ------------------ | ----------- | -------- | -------------- | -------------- | -------- |
  | tiny_3k_ws合成数据 | 23.8（194） | 13.0(62) | **0.72**(3.26) | **4.05**(26.5) | 未控制H  |
  | tiny_3k_zx真实数据 | 20.8(208)   | 15.5(69) | 0.53(3.46)     | 2.28(25.1)     | 单边实验 |
  | tiny_3k_lj合成数据 | 28.5(209)   | 15.7(41) | **0.72**(3.49) | **3.94**(21.0) |          |

  从E-S均值上看不出明显的差异，E-S方差则真实数据明显比合成数据小。





- | 数据集                 | M_std（m）  | STD_std  | E_std      | S_std      | 备注     |
  | ---------------------- | ----------- | -------- | ---------- | ---------- | -------- |
  | tiny_3k_ws_rsz合成数据 | 23.7（194） | 13.1(55) | 0.49(3.60) | 2.98(22.9) | 控制H    |
  | tiny_3k_zx_rsz真实数据 | 20.8(207)   | 15.0(59) | 0.46(4.13) | 2.27(21.8) | 单边实验 |
  | tiny_3k_lj合成数据     | 28.5(208)   | 15.5(40) | 0.69(3.50) | 3.33(20.1) |          |

  从E-S均值上看: 真实数据平均梯度适中，ws合成的最清晰，lj的最模糊。

  ​                           真实数据的信息熵是最大的（像素分布可能更加均匀复杂一些）， ws的和lj的差不多。

   像素均值和方差意义不大。

*****



